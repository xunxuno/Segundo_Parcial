extends layout

block content
    .main_container
        .center-text
            h1 #{title}
            p Todo ArchiMago necesita esconder sus secretos. 
            p Entregale al Omnissiah tu fé y se recompensado con conocimiento.
            p !Que el Dios Maquina te guie al encriptar tu mensaje¡
        .text-content
            form(action="/result", method="post", onsubmit="return capturarDatos(event)")
                .titulo-text
                    label(for="texto", class="tituloT") Texto a Encriptar:
                    input(type="text", id="texto", name="texto", required)
                    br
                label(for="origen") De:
                select(id="origen", name="origen", required)  
                    option(value="es") Español
                    option(value="coc") Codigo Cesar
                    option(value="sus") Sustitucion
                    option(value="b64") Base 64
                    option(value="hex") Hexadecimal
                    option(value="bin") Binario
                    // Agrega más opciones según tus necesidades
                br
                label(for="destino") A:
                select(id="destino", name="destino", required)
                    option(value="coc") Codigo Cesar
                    option(value="sus") Sustitucion
                    option(value="b64") Base 64
                    option(value="hex") Hexadecimal
                    option(value="bin") Binario
                    option(value="es") Español
                    // Agrega más opciones según tus necesidades
                br
                button(type="submit") Encriptar

                 script.

                    // Función para capturar los datos del formulario y almacenarlos en palabraCache
                    function capturarDatos(event) {
                        palabraCache.texto = document.getElementById('texto').value;
                        palabraCache.origen = document.getElementById('origen').value;
                        palabraCache.destino = document.getElementById('destino').value;
                        event.preventDefault();
                        // Retornar true para indicar que el formulario fue capturado correctamente
                        return true;
                    }

                    // Leer las cookies del navegador
                    function leerCookie(nombre) {
                        var nombreEQ = nombre + "=";
                        var cookies = document.cookie.split(';');
                        for (var i = 0; i < cookies.length; i++) {
                            var cookie = cookies[i];
                            while (cookie.charAt(0) === ' ') {
                                cookie = cookie.substring(1, cookie.length);
                            }
                            if (cookie.indexOf(nombreEQ) === 0) {
                                return cookie.substring(nombreEQ.length, cookie.length);
                            }
                        }
                        return null;
                    }

                    // Capturar la cookie de invitado
                    var invitadoCookie = leerCookie('invitado');
                    if (invitadoCookie !== null) {
                        // La cookie de invitado está presente, haz algo aquí
                        console.log('Cookie de invitado capturada:', invitadoCookie);
                        // Por ejemplo, puedes enviarla al servidor con una solicitud AJAX
                        // O puedes usarla para personalizar la experiencia del usuario
                    }

